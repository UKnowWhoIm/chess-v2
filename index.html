<!DOCTYPE html>
<html>
  <head>
    <script
			  src="https://code.jquery.com/jquery-3.5.1.min.js"
			  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
    <script src="/static/chessCommonJS.js"></script>
    <script src="/static/chessClient.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <style>
      table{
          margin: auto;
      }
      .highlight{
        background-color: coral!important;
      }
      td{
          height: 60px;
          width: 60px;
          text-align: center;
          font-size: 48px;
          cursor: pointer;
      }
      .light-cell{
          background-color: lightblue;
      }
      .dark-cell{
          background-color: grey;
      }
      .selected{
          background-color:orange;
      }
    </style>
    <title></title>
  </head>
  <body>
    <div id="board">

    </div>
    <script>
        let socket = io();
        socket.on("getGameId", function(gameId){
            localStorage.setItem("gameId", gameId);
            console.log(gameId);
        });

        socket.on("startGame", function(fen){
            console.log(fen);
            board = new Board(fen);
            postMove();
        });

        socket.on("boardUpdated", function(fen){
            console.log(fen);
            board = new Board(fen);
            postMove();
        });

        socket.on("playerJoined", () => alert("A Player has joined"));
      
        $("#board").delegate("td", "click", function(){
            processClick(socket, this.id);
        });
       
        function createRoom(){
            socket.emit("roomCreate");
        }

        function joinRoom(id){
            socket.emit("roomJoin", id);
        }
      </script>
  </body>
</html>