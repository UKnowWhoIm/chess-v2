<!DOCTYPE html>
<html>
  <head>
    <script
			  src="https://code.jquery.com/jquery-3.5.1.min.js"
			  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
			  crossorigin="anonymous"></script>
    <script src="/static/chess.js"></script>
    <style>
      table{
        margin: auto;
      }
      td{
        height: 60px;
        width: 60px;
        text-align: center;
        font-size: 48px;
        cursor: pointer;
      }
      .light-cell{
        background-color: lightblue;
      }
      .dark-cell{
        background-color: grey;
      }
    </style>
    <script>
      const pieceToText = {
        "K": "&#x2654;",
        "Q": "&#x2655;",
        "R": "&#x2656;",
        "B": "&#x2657;",
        "N": "&#x2658;",
        "P": "&#x2659;",
        "k": "&#x265A;",
        "q": "&#x265B;",
        "r": "&#x265C;",
        "b": "&#x265D;",
        "n": "&#x265E;",
        "p": "&#x265F;",
      }
      const initialFen = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 0";
      var board = new Board(initialFen);

      function boardToHTML(){
        console.log(board.array);
        let table = document.createElement("table");
        let currentRow;
        for(i=0; i<64; i++){
          if(i % 8 == 0){
            if(currentRow)
              table.appendChild(currentRow);
            currentRow = document.createElement("tr");
          }
          let currentColumn = document.createElement("td");
          if((Math.floor(i/8) + (i % 8)) % 2 == 0)
            currentColumn.classList.add("light-cell");
          else
            currentColumn.classList.add("dark-cell");
          if(board.array[i]){
            currentColumn.innerHTML = pieceToText[board.array[i].type];
          }
          currentColumn.setAttribute("id", i);
          currentRow.appendChild(currentColumn);
        }
        table.appendChild(currentRow);
        $("#board").append(table);
      }

      $(document).ready(function(){
        boardToHTML();
      });
      
    </script>
    <title></title>
  </head>
  <body>
    <div id="board">

    </div>
  </body>
</html>